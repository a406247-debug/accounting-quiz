<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù„Ø¹Ø¨Ø© Ù…Ø­Ø§Ø³Ø¨Ø© - Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù…ØªØ¹</title>
  <style>
    :root{
      --bg1:#0f172a; --bg2:#0ea5a3;
      --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8;
      --glass: rgba(255,255,255,0.05);
      font-family: 'Segoe UI', Tahoma, system-ui, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      background: linear-gradient(135deg,var(--bg1) 0%, #083344 30%, #0ea5a3 100%);
      color: #e6eef6; display:flex; align-items:center; justify-content:center; padding:28px;
    }
    .container{width:100%;max-width:640px;background:var(--glass);backdrop-filter:blur(10px);padding:24px;border-radius:20px;box-shadow:0 8px 30px rgba(0,0,0,.4);text-align:center}
    h1{margin:0 0 12px;font-size:1.8rem;color:#fff}
    .levels button{display:block;width:100%;margin:10px 0;padding:14px 18px;font-size:1.05rem;border:none;border-radius:12px;background:linear-gradient(90deg,var(--accent),#0891b2);color:#fff;cursor:pointer;transition:.18s;box-shadow:0 6px 18px rgba(2,6,23,0.35)}
    .levels button:hover{transform:translateY(-4px);filter:brightness(1.03)}
    .question{margin:20px 0;font-size:1.15rem;direction:rtl;text-align:right}
    .options button{display:block;width:100%;margin:8px 0;padding:12px;border-radius:10px;background:var(--card);color:#fff;border:1px solid rgba(255,255,255,0.04);cursor:pointer;transition:.12s; text-align:right}
    .options button:hover{transform:translateX(-6px)}
    .options button.correct{background:#16a34a !important; border-color:#16a34a99; color:#fff}
    .options button.wrong{background:#dc2626 !important; border-color:#dc262699; color:#fff}
    .progress{height:10px;background:rgba(255,255,255,0.06);border-radius:5px;overflow:hidden;margin:15px 0}
    .progress-bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#0891b2);transition:.35s}
    .result{font-size:1.4rem;margin-top:15px}
    .restart{margin-top:20px;padding:10px 20px;font-size:1rem;border:none;border-radius:10px;background:linear-gradient(90deg,var(--accent),#0891b2);color:#fff;cursor:pointer;box-shadow:0 6px 18px rgba(2,6,23,0.35)}
    .restart:hover{transform:scale(1.02)}
    .muted{color:var(--muted);font-size:0.95rem;margin-top:8px}
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“ Ù„Ø¹Ø¨Ø© Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©</h1>
    <div id="game">
      <div class="levels" id="levelsBlock">
        <button data-level="easy">Ø³Ù‡Ù„</button>
        <button data-level="medium">Ù…ØªÙˆØ³Ø·</button>
        <button data-level="hard">ØµØ¹Ø¨</button>
      </div>
    </div>
  </div>

  <script>
    // Question bank
    const questions = {
      easy: [
        {q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø£ØµÙ„ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©ØŸ", options:["Ø§Ù„ØªØ²Ø§Ù…","Ù…ÙˆØ§Ø±Ø¯ ØªÙ…Ù„ÙƒÙ‡Ø§ Ø§Ù„Ø´Ø±ÙƒØ©","Ù…ØµØ±ÙˆÙ"], answer:1},
        {q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©ØŸ", options:["Ø§Ù„Ø£ØµÙˆÙ„ = Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª + Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©","Ø§Ù„Ø£ØµÙˆÙ„ = Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª - Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª","Ø§Ù„Ø£ØµÙˆÙ„ = Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª"], answer:0},
        {q:"ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø¦Ù…Ø© ÙŠØ¸Ù‡Ø± ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ØŸ", options:["Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø§Ù„ÙŠ","Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø®Ù„","Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"], answer:1}
      ],
      medium: [
        {q:"Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠØ¹ØªØ¨Ø± Ø§Ù„ØªØ²Ø§Ù…ØŸ", options:["Ù‚Ø±Ø¶ Ø¨Ù†ÙƒÙŠ","Ù…Ø¹Ø¯Ø§Øª","Ø¥ÙŠØ±Ø§Ø¯"], answer:0},
        {q:"Ù…ØªÙ‰ ÙŠÙØ³Ø¬Ù‘Ù„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ØŸ", options:["Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù†Ù‚Ø¯","Ø¹Ù†Ø¯ ØªØ­Ù‚Ù‚ Ø§Ù„Ø¨ÙŠØ¹","Ø¹Ù†Ø¯ Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©"], answer:1},
        {q:"Ù…Ø§ Ù‡ÙŠ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹ØŸ", options:["Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ø«Ø§Ø¨Øª","Ø§Ù„Ù…Ø¶Ø§Ø¹Ù","Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠ"], answer:0}
      ],
      hard: [
        {q:"Ù…Ø§Ø°Ø§ ÙŠÙ‚ÙŠØ³ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©ØŸ", options:["Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø§Ù„Ø¬Ø§Ø±ÙŠØ©","Ø§Ù„Ø±Ø¨Ø­ÙŠØ©","ÙƒÙØ§Ø¡Ø© Ø§Ù„ØªØ´ØºÙŠÙ„"], answer:0},
        {q:"Ù…Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø°ÙŠ ÙŠØªØ£Ø«Ø± Ø¨Ø®ØµÙ… Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©ØŸ", options:["Ø£ÙˆØ±Ø§Ù‚ Ù‚Ø¨Ø¶","Ø¥ÙŠØ±Ø§Ø¯","Ø£ØµÙ„ Ø«Ø§Ø¨Øª"], answer:0},
        {q:"Ø£ÙŠ Ù…Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø³Ø¨ÙŠ ÙŠÙ†Øµ Ø¹Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ«Ù‡Ø§ØŸ", options:["Ù…Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚","Ù…Ø¨Ø¯Ø£ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©","Ù…Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©"], answer:0}
      ]
    };

    let currentQuestions = [], current = 0, score = 0, currentLevel = '';

    // wire up level buttons
    document.getElementById('levelsBlock').addEventListener('click', function(e){
      const btn = e.target.closest('button[data-level]');
      if(!btn) return;
      const lvl = btn.getAttribute('data-level');
      startGame(lvl);
    });

    function startGame(level){
      currentLevel = level;
      currentQuestions = JSON.parse(JSON.stringify(questions[level])); // clone
      current = 0; score = 0;
      showQuestion();
    }

    function showQuestion(){
      const q = currentQuestions[current];
      document.getElementById('game').innerHTML = `
        <div class="muted">Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${currentLevel} â€” Ø³Ø¤Ø§Ù„ ${current+1} Ù…Ù† ${currentQuestions.length}</div>
        <div class="question">${q.q}</div>
        <div class="options">${q.options.map((opt,i)=>`<button data-opt="${i}">${opt}</button>`).join('')}</div>
        <div class="progress"><div class="progress-bar" style="width:${Math.round((current/currentQuestions.length)*100)}%"></div></div>
      `;

      // attach handlers for option buttons
      document.querySelectorAll('.options button').forEach(btn => {
        btn.addEventListener('click', () => {
          selectAnswer(parseInt(btn.getAttribute('data-opt')), btn);
        });
      });
    }

    function selectAnswer(choiceIndex, btn){
      const q = currentQuestions[current];
      const allBtns = document.querySelectorAll('.options button');
      // disable buttons
      allBtns.forEach(b => b.disabled = true);

      if(choiceIndex === q.answer){
        btn.classList.add('correct');
        score++;
        playSound('correct');
      } else {
        btn.classList.add('wrong');
        // reveal correct
        const correctBtn = Array.from(allBtns).find(b => parseInt(b.getAttribute('data-opt')) === q.answer);
        if(correctBtn) correctBtn.classList.add('correct');
        playSound('wrong');
      }

      // feedback text
      const fb = document.createElement('div');
      fb.className = 'muted';
      fb.textContent = (choiceIndex === q.answer) ? 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!' : `Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: "${q.options[q.answer]}"`;
      document.getElementById('game').appendChild(fb);

      setTimeout(() => {
        current++;
        if(current < currentQuestions.length) showQuestion();
        else showResult();
      }, 900);
    }

    function showResult(){
      document.getElementById('game').innerHTML = `
        <div class="result">Ø§Ù†ØªÙ‡ÙŠØª! Ø¯Ø±Ø¬ØªÙƒ: ${score} Ù…Ù† ${currentQuestions.length}</div>
        <div class="muted">Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${currentLevel}</div>
        <button class="restart" id="restartBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
      `;

      document.getElementById('restartBtn').addEventListener('click', ()=>{
        // return to level selection
        document.getElementById('game').innerHTML = `
          <div class="levels" id="levelsBlock">
            <button data-level="easy">Ø³Ù‡Ù„</button>
            <button data-level="medium">Ù…ØªÙˆØ³Ø·</button>
            <button data-level="hard">ØµØ¹Ø¨</button>
          </div>
        `;
        // re-wire event listener (delegation)
        document.getElementById('levelsBlock').addEventListener('click', function(e){
          const btn = e.target.closest('button[data-level]');
          if(!btn) return;
          const lvl = btn.getAttribute('data-level');
          startGame(lvl);
        });
      });
    }

    // simple sounds using WebAudio (optional)
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const audio = AudioCtx ? new AudioCtx() : null;
    function playTone(freq, time=0.12, type='sine', vol=0.08){
      if(!audio) return;
      const o = audio.createOscillator();
      const g = audio.createGain();
      o.type = type; o.frequency.value = freq; g.gain.value = vol;
      o.connect(g); g.connect(audio.destination);
      o.start(); g.gain.exponentialRampToValueAtTime(0.001, audio.currentTime + time);
      o.stop(audio.currentTime + time + 0.02);
    }
    function playSound(name){
      try{
        if(name==='correct') playTone(880,0.18,'sine',0.09);
        else if(name==='wrong') playTone(220,0.18,'sawtooth',0.08);
      }catch(e){}
    }
  </script>
</body>
</html>
